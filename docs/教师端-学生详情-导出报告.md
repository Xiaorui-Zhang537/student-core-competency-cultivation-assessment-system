# 教师端-学生详情：导出报告（PDF）

## 功能说明

在教师端 `学生详情` 页面新增 **“导出报告”** 按钮，点击后会在当前页面**直接生成并下载 PDF**，不跳转、不打开新页面。

PDF 内容包含：

- 行为洞察（AI 解读，含风险预警/建议等）
- 行为证据（阶段一事实摘要）
- 成绩记录（按当前筛选课程导出 **全量成绩**，不受分页影响）

## 使用方式

1. 进入教师端 `学生详情` 页面
2. （可选）在“筛选课程”选择某一课程作为上下文
3. 点击右上角按钮：`导出报告`
4. 浏览器会下载：`{学生名}_report.pdf`

## 技术实现（前端）

- 使用 `html2canvas` + `jspdf` 在前端将 DOM 渲染为图片并分页写入 PDF
- 为保证“全量成绩”，导出时会额外请求一次：
  - `GET /grades/student/{studentId}/page?page=1&size=10000&courseId={可选}`

> 注意：PDF 是基于当前页面已加载的数据生成的。若洞察/证据仍在加载中，建议等待加载完成后再导出。

